{% from "../../../macros/summaryCardMacro.njk" import summaryCard %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{%- call summaryCard({title: "Staff contacts"}) -%}
  <div class="govuk-grid-row staff-contacts-card" data-qa="staff-contacts">
    <div class="govuk-grid-column-full">
      {% if staffContacts.callFailed %}
        <p class="hmpps-api-error-inset" data-qa="youth-contacts-unavailable">
          {{ unavailableApiErrorText }}
        </p>
      {% endif %}
      {{ govukSummaryList({
        classes: 'govuk-summary-list--no-border',
        rows: [
          {
            key: { text: "CuSP Officer" },
            value: { text: staffContacts.callFailed ? unavailablePlaceholder : (staffContacts.cuspOfficer or 'Not assigned') }
          },
          {
            key: { text: "CuSP Officer (backup)" },
            value: { text: staffContacts.callFailed ? unavailablePlaceholder : (staffContacts.cuspOfficerBackup or 'Not assigned') }
          },
          {
            key: { text: "Youth Justice Worker" },
            value: { text: staffContacts.callFailed ? unavailablePlaceholder : (staffContacts.youthJusticeWorker or 'Not assigned') }
          },
          {
            key: { text: "Resettlement Practitioner" },
            value: { text: staffContacts.callFailed ? unavailablePlaceholder : (staffContacts.resettlementPractitioner or 'Not assigned') }
          },
          {
            key: { text: "Youth Justice Service" },
            value: { text: staffContacts.callFailed ? unavailablePlaceholder : (staffContacts.youthJusticeService or 'Not assigned') }
          },
          {
            key: { text: "Youth Justice Service Case Manager" },
            value: { text: staffContacts.callFailed ? unavailablePlaceholder : (staffContacts.youthJusticeServiceCaseManager or 'Not assigned') }
          }
        ] | summaryListOneHalfWidth
      }) }}
    </div>
  </div>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <p class="govuk-body">
        <a class="govuk-link--no-visited-state govuk-!-display-none-print" href="/prisoner/{{ prisonerNumber }}/professional-contacts">Professional contacts</a>
      </p>
    </div>
  </div>
{%- endcall -%}
