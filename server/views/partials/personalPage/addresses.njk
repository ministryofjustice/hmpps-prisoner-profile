{% from "../../macros/summaryCardMacro.njk" import summaryCard %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% set addressHtml %}
  {% for line in addresses.address | addressToLines %}
    {{ line }}<br />
  {% endfor %}
{% endset %}
{% set phoneHtml %}
  {% for number in addresses.phones %}
    {{ number }}<br />
  {% endfor %}
{% endset %}
{% set addressTypesHtml %}
  {% for type in addresses.addressTypes %}
    {{ type }}<br />
  {% endfor %}
{% endset %}
{%- call summaryCard({title: "Addresses", id: "addresses"}) -%}
  <div class="govuk-grid-row" data-qa="addresses">
    <div class="govuk-grid-column-full">
      <p class="govuk-body">Primary</p>
      {{ govukSummaryList({
          rows: [
            { key: { text: "Address"}, value: { html: addressHtml } },
            { key: { text: "Type of address"}, value: { html: addressTypesHtml } },
            { key: { text: "Phone"}, value: { html: phoneHtml } },
            { key: { text: "Comments"}, value: { text: addresses.comment } }
          ]
      }) }}
      <p class="govuk-body">Added on <span data-qa="address-added-on">{{ addresses.addedOn | formatDate }}</span></p>
      <p class="govuk-body"><a class="govuk-link" href="#">View other addresses</a></p>
    </div>
  </div>
{%- endcall -%}
