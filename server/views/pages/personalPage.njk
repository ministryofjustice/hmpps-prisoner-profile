{% from "../macros/conditionallyShow.njk" import conditionallyShow %}
{% extends "./index.njk" %}
{% set breadCrumbs = [
  {
    text: 'Home',
    href:  "/" | prependBaseUrl
  }
] %}
{% block body %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">
      <h1>Personal</h1>
    </div>
  </div>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-quarter app-sidebar">
      <ul class="govuk-list hmpps-sidebar">
        <li><a class="govuk-link govuk-link--no-visited-state" href="#personal-details">Personal details</a></li>
        <li><a class="govuk-link govuk-link--no-visited-state" href="#identity-numbers">Identity numbers</a></li>
        <li><a class="govuk-link govuk-link--no-visited-state" href="#care-needs">Care needs</a></li>
        {# Hidden as the section is hidden below #}
        {# <li><a class="govuk-link govuk-link--no-visited-state" href="#neurodiversity">Neurodiversity</a></li> #}
        {%- call conditionallyShow({condition: prisonerBelongsToUsersCaseLoad(prisonId, user.caseLoads), id: 'appearance-nav'}) -%}
          <li><a class="govuk-link govuk-link--no-visited-state" href="#appearance">Appearance</a></li>
        {%- endcall -%}
        <li><a class="govuk-link govuk-link--no-visited-state" href="#addresses">Addresses</a></li>
        {%- call conditionallyShow({condition: prisonerBelongsToUsersCaseLoad(prisonId, user.caseLoads), id: 'next-of-kin-nav'}) -%}
          <li><a class="govuk-link govuk-link--no-visited-state" href="#next-of-kin">Next of kin</a></li>
        {%- endcall -%}
        {%- call conditionallyShow({condition: security.interestToImmigration == "Yes" or security.travelRestrictions, id: 'security-nav'}) -%}
          <li><a class="govuk-link govuk-link--no-visited-state" href="#security">Security</a></li>
        {%- endcall -%}
        {%- call conditionallyShow({condition: prisonerBelongsToUsersCaseLoad(prisonId, user.caseLoads), id: 'property-nav'}) -%}
          <li><a class="govuk-link govuk-link--no-visited-state" href="#property">Property</a></li>
        {%- endcall -%}
      </ul>
    </div>
    <div class="govuk-grid-column-three-quarters">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
          {% include "../partials/personalPage/personalDetails.njk" %}
        </div>
      </div>
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
          {% include "../partials/personalPage/identityNumbers.njk" %}
        </div>
      </div>
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
          {% include "../partials/personalPage/careNeeds.njk" %}
        </div>
      </div>
      {# This is hidden deliberately for now #}
      {# <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
          {% include "../partials/personalPage/neurodiversity.njk" %}
        </div>
      </div> #}
      {%- call conditionallyShow({condition: prisonerBelongsToUsersCaseLoad(prisonId, user.caseLoads), id: 'appearance'}) -%}
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-full">
            {% include "../partials/personalPage/appearance.njk" %}
          </div>
        </div>
      {%- endcall -%}
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
          {% include "../partials/personalPage/addresses.njk" %}
        </div>
      </div>
      {%- call conditionallyShow({condition: prisonerBelongsToUsersCaseLoad(prisonId, user.caseLoads), id: 'next-of-kin'}) -%}
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-full">
            {% include "../partials/personalPage/nextOfKin.njk" %}
          </div>
        </div>
      {%- endcall -%}
      {%- call conditionallyShow({condition: security.interestToImmigration == "Yes" or security.travelRestrictions, id: 'security'}) -%}
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-full">
            {% include "../partials/personalPage/security.njk" %}
          </div>
        </div>
      {%- endcall -%}
      {%- call conditionallyShow({condition: prisonerBelongsToUsersCaseLoad(prisonId, user.caseLoads), id: 'property'}) -%}
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-full">
            {% include "../partials/personalPage/property.njk" %}
          </div>
        </div>
      {%- endcall -%}
    </div>
  </div>
  {% include "../partials/backToTop.njk" %}
{% endblock %}
