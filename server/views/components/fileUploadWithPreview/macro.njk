{# When including this, ensure you also include the script "fileUploadWithPreview.js" to enable the preview #}
{% from "govuk/components/file-upload/macro.njk" import govukFileUpload %}
{% macro fileUploadWithPreview(fileUploadName, options = {}) %}
  <div data-component="file-upload-with-preview-component" class="hmpps-file-upload-with-preview">
    <div
      id="file-upload"
      class="hmpps-file-upload-with-preview__upload">
      {{ govukFileUpload({
        id: options.id if options.id else "file",
        name: fileUploadName,
        label: {
          classes: "govuk-!-font-weight-bold",
          text: options.label if options.label else "Select an image"
        },
        hint: {
          text: "The photo must be a JPG or GIF."
        },
        errorMessage: { text: options.errorMessage } if options.errorMessage,
        attributes: {
          accept: "image/jpeg, image/gif"
        },
        javascript: true
      }) }}
    </div>
  </div>
{% endmacro %}